<?xml version="1.0"?>
<odoo>

    <record model="ir.ui.view" id="res_training_tree_view">
        <field name="name">Training</field>
        <field name="model">res.training</field>
        <field name="arch" type="xml">
           <tree>
               <field name="name"/>
               <field name="trainer_id"/>
               <field name="start_date_time"/>
               <field name="end_date_time"/>
               <field name="state"/>
           </tree>
        </field>
    </record>

     <record model="ir.ui.view" id="res_training_form_view">
        <field name="name">Training</field>
        <field name="model">res.training</field>
        <field name="arch" type="xml">
           <form>
               <header>
                   <button string="Confirm" name="set_confirm"
                           type="object" class="oe_highlight"
                           states="unconfirmed"/>
                    <button string="Done" name="set_done"
                           type="object" class="oe_highlight"
                           states="confirmed"/>
                   <button string="Cancel" name="set_cancel"
                           type="object" class="oe_link"
                           states="unconfirmed,confirmed"/>
                   <field name="state" widget="statusbar"/>
               </header>
               <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button class="oe_stat_button" icon="fa-archive">
                            <field name="total_attendees"/>
                        </button>
                    </div>
                   <group>
                       <group>
                           <field name="name"/>
                           <field name="trainer_id"/>
                           <field name="course_id"/>
                       </group>
                        <group>
                           <field name="start_date_time"/>
                           <field name="end_date_time"/>
                           <field name="total_hrs"/>
                           <field name="tag_ids" widget="many2many_tags"/>
                       </group>
                   </group>
                   <notebook>
                       <page string="Attendees">
                           <field name="attendee_ids">
                                   <tree>
                                       <field name="name"/>
                                       <field name="email"/>
                                   </tree>
                           </field>
                       </page>
                   </notebook>
               </sheet>
           </form>
        </field>
    </record>

     <record id="res_training_search_view" model="ir.ui.view">
            <field name="name">res.partner.search</field>
            <field name="model">res.training</field>
            <field name="arch" type="xml">
                <search>
                    <filter string="Today" name="today_training" domain="[('start_date_time','&gt;=',context_today().strftime('%Y-%m-%d 00:00:00'))]"/>
                    <filter string="Tomorrow" name="tomorrow_training" domain="[('start_date_time','&gt;=',(context_today()+datetime.timedelta(days=1)).strftime('%Y-%m-%d 00:00:00'))]"/>
                    <group expand="0" string="Group By">
                        <filter string="Course" name="by_course" domain="[]" context="{'group_by': 'course_id'}"/>
                    </group>
                </search>
            </field>
        </record>

    <record model="ir.actions.act_window" id="action_res_training">
        <field name="name">Training</field>
        <field name="res_model">res.training</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_by_course':1}</field>
    </record>

     <record id="training_test_action_server" model="ir.actions.server">
            <field name="name">Training</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_res_training" />
            <field name="binding_model_id" ref="model_res_training" />
            <field name="state">code</field>
            <field name="code">record.training_test_action</field>
        </record>

    <menuitem action="action_res_training" id="res_training_menu" parent="root_training_menu"/>

</odoo>
